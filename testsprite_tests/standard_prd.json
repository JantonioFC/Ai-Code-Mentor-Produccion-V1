{
  "meta": {
    "project": "AI Code Mentor",
    "date": "2026-02-14",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "AI Code Mentor is an AI-powered programming tutor that generates personalized lessons, tracks learner progress across curriculum phases, and integrates with developer tools (VS Code). The web app provides authenticated dashboards, a lesson sandbox with streaming Gemini responses, and a templates library for documentation.",
  "core_goals": [
    "Deliver adaptive, AI-generated lessons with streaming responses to support interactive learning",
    "Provide unified progress tracking and analytics across curriculum phases (F0-F7)",
    "Offer secure user authentication, demo access, and easy onboarding",
    "Enable extension-based workflows via a device flow to connect VS Code for in-editor assistance",
    "Persist user memory and templates for personalized continuity and offline export"
  ],
  "features": [
    {
      "name": "Landing Page",
      "description": "Public-facing landing page showcasing features and leading users to sign up or log in.",
      "user_flows": [
        "Navigate to / -> View landing page with features -> Scroll through feature sections -> Click call-to-action button to go to /login -> See /login page",
        "Navigate to / -> View landing page with features -> Click navigation link to /login -> Network error occurs -> See error banner and remain on /"
      ]
    },
    {
      "name": "User Registration",
      "description": "Create a new account with email, password and display name and get redirected to the dashboard on success.",
      "user_flows": [
        "Navigate to /login -> Click on register tab or toggle -> Fill email input field -> Fill password input field -> Fill display name input field -> Click Registrarse button to submit -> See success message and redirect to /panel-de-control",
        "Navigate to /login -> Click on register tab or toggle -> Fill email input field with an already-registered email -> Fill password input field -> Fill display name input field -> Click Registrarse button to submit -> See error message on invalid or duplicate email and remain on /login"
      ]
    },
    {
      "name": "User Login",
      "description": "Authenticate existing users with email and password and grant access to the main dashboard.",
      "user_flows": [
        "Navigate to /login page -> Fill email input field -> Fill password input field -> Click Iniciar Sesion button to submit -> See redirect to /panel-de-control on success",
        "Navigate to /login page -> Fill email input field -> Fill password input field -> Click Iniciar Sesion button to submit -> See error message on invalid credentials and remain on /login"
      ]
    },
    {
      "name": "Quick Demo Access",
      "description": "One-click demo login that automatically signs in with demo credentials and opens the dashboard.",
      "user_flows": [
        "Navigate to /login -> Click Acceso Demo Rapido button -> Auto-login with demo credentials -> Redirect to /panel-de-control",
        "Navigate to /login -> Click Acceso Demo Rapido button -> Demo authentication fails due to server error -> See error message and remain on /login"
      ]
    },
    {
      "name": "User Logout",
      "description": "Clear session and tokens when the user logs out and return them to the public login page.",
      "user_flows": [
        "Navigate to /panel-de-control -> Click Cerrar Sesion button in navigation -> Session cookies cleared -> Redirect to /login page",
        "Navigate to /panel-de-control -> Click Cerrar Sesion button in navigation -> Network error prevents logout API call -> See error message and stay on /panel-de-control"
      ]
    },
    {
      "name": "Dashboard Analytics",
      "description": "Unified dashboard displaying progress across curriculum phases, competency visualizations and recent activity.",
      "user_flows": [
        "Navigate to /panel-de-control after login -> View Dashboard Unificado tab with phase progress -> See competency framework visualization -> View recent entries and module statistics -> Switch to Sandbox tab",
        "Navigate to /panel-de-control after login -> Dashboard attempts to load -> GET /api/get-dashboard returns error or SQLite locked -> See dashboard error state with retry option"
      ]
    },
    {
      "name": "AI Lesson Generation (Sandbox)",
      "description": "Generate AI-powered lessons via Gemini with streaming responses and code examples from the Sandbox tab.",
      "user_flows": [
        "Navigate to /panel-de-control -> Switch to Sandbox tab -> Select language and category -> Select lesson topic -> Click Generar Leccion button -> View streaming AI response in real-time -> See generated lesson with code examples",
        "Navigate to /panel-de-control -> Switch to Sandbox tab -> Select language and category -> Select lesson topic -> Click Generar Leccion button -> Gemini service times out or returns error -> See error message about AI generation latency and option to retry"
      ]
    },
    {
      "name": "Educational Templates",
      "description": "Browse and preview pre-built educational templates and apply them for documentation or lesson content.",
      "user_flows": [
        "Navigate to /plantillas -> Browse available templates -> Click template to preview -> Use template for documentation",
        "Navigate to /plantillas -> Attempt to load templates -> Templates list fails to load due to backend error -> See empty state message prompting to refresh or create a new template"
      ]
    },
    {
      "name": "VS Code Extension Device Flow (Connect)",
      "description": "Authorize the VS Code extension using a device code flow via the /connect page to enable in-editor assistance.",
      "user_flows": [
        "Navigate to /connect -> See device flow instructions and device code displayed -> Open VS Code extension and select 'Connect' -> Enter or paste device code in extension -> Click Authorize in browser -> See success confirmation and redirect to /panel-de-control",
        "Navigate to /connect -> See device flow instructions and device code displayed -> Open VS Code extension and paste device code -> Wait for authorization -> Device code is expired -> See error message about expired code and prompt to restart device flow"
      ]
    }
  ],
  "code_summary": {
    "version": "2",
    "type": "frontend",
    "tech_stack": [
      "JavaScript/TypeScript",
      "Next.js 15.4 (App Router + Pages Router)",
      "React 18.3 + TailwindCSS 3.3 + Radix UI",
      "SQLite (better-sqlite3) + JWT Auth + Gemini AI"
    ],
    "routes": [
      {
        "path": "/",
        "file": "app/page.js",
        "auth_required": false,
        "description": "Landing page with features showcase and call-to-action"
      },
      {
        "path": "/login",
        "file": "app/login/page.js",
        "auth_required": false,
        "description": "User login and registration page"
      },
      {
        "path": "/connect",
        "file": "app/connect/page.js",
        "auth_required": true,
        "description": "VS Code extension device flow authorization"
      },
      {
        "path": "/panel-de-control",
        "file": "app/panel-de-control/page.js",
        "auth_required": true,
        "description": "Main dashboard with unified analytics, sandbox and system tabs"
      },
      {
        "path": "/plantillas",
        "file": "app/plantillas/page.js",
        "auth_required": true,
        "description": "Educational templates center with 10 template types"
      }
    ],
    "features": [
      {
        "name": "User Registration",
        "description": "Create a new account with email, password and display name",
        "files": [
          "app/login/page.js",
          "pages/api/auth/register.js",
          "lib/auth-local.js",
          "lib/auth/useAuth.js"
        ],
        "entry_route": "/login",
        "user_interactions": [
          "Navigate to /login page",
          "Click on register tab or toggle",
          "Fill email input field",
          "Fill password input field",
          "Fill display name input field",
          "Click Registrarse button to submit",
          "See success message and redirect to dashboard",
          "See error message on invalid or duplicate email"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/api/auth/register"
          }
        ],
        "auth_required": false
      },
      {
        "name": "User Login",
        "description": "Login with email and password credentials",
        "files": [
          "app/login/page.js",
          "pages/api/auth/login.js",
          "lib/auth-local.js",
          "lib/auth/useAuth.js"
        ],
        "entry_route": "/login",
        "user_interactions": [
          "Navigate to /login page",
          "Fill email input field",
          "Fill password input field",
          "Click Iniciar Sesion button to submit",
          "See redirect to /panel-de-control on success",
          "See error message on invalid credentials"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/api/auth/login"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Quick Demo Access",
        "description": "One-click access to the platform for demo purposes",
        "files": [
          "app/login/page.js"
        ],
        "entry_route": "/login",
        "user_interactions": [
          "Click Acceso Demo Rapido button",
          "Auto-login with demo credentials",
          "Redirect to /panel-de-control"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/api/auth/login"
          }
        ],
        "auth_required": false
      },
      {
        "name": "User Logout",
        "description": "Log out of the application and clear session",
        "files": [
          "lib/auth/useAuth.js",
          "pages/api/auth/logout.js"
        ],
        "entry_route": "/panel-de-control",
        "user_interactions": [
          "Click Cerrar Sesion button in navigation",
          "Session cookies cleared",
          "Redirect to /login page"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/api/auth/logout"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Dashboard Analytics",
        "description": "Unified dashboard showing progress across curriculum phases F0-F7",
        "files": [
          "app/panel-de-control/page.js",
          "app/panel-de-control/DashboardClient.js",
          "components/ProjectTracking/EnhancedUnifiedDashboard.js",
          "contexts/ProjectTrackingContext.js",
          "pages/api/get-dashboard.js"
        ],
        "entry_route": "/panel-de-control",
        "user_interactions": [
          "Navigate to /panel-de-control after login",
          "View Dashboard Unificado tab with phase progress",
          "See competency framework visualization",
          "View recent entries and module statistics",
          "Switch between Dashboard, Sandbox and Sistema tabs"
        ],
        "api_calls": [
          {
            "method": "GET",
            "endpoint": "/api/get-dashboard"
          },
          {
            "method": "GET",
            "endpoint": "/api/v1/analytics/overview"
          }
        ],
        "auth_required": true
      },
      {
        "name": "AI Lesson Generation",
        "description": "AI-powered lesson generator using Gemini with streaming responses",
        "files": [
          "components/Sandbox/SandboxWidget.js",
          "pages/api/v1/lessons/generate.js",
          "pages/api/v1/lessons/stream.js",
          "lib/services/SmartLessonGenerator.js"
        ],
        "entry_route": "/panel-de-control",
        "user_interactions": [
          "Navigate to Dashboard Sandbox tab",
          "Select language and category",
          "Select lesson topic",
          "Click Generar Leccion button",
          "View streaming AI response in real-time",
          "See generated lesson with code examples"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "/api/v1/lessons/generate"
          },
          {
            "method": "POST",
            "endpoint": "/api/v1/lessons/stream"
          }
        ],
        "auth_required": true
      },
      {
        "name": "Educational Templates",
        "description": "Pre-built templates for educational documentation",
        "files": [
          "app/plantillas/page.js",
          "app/plantillas/TemplatesClient.js",
          "components/ProjectTracking/TemplateSelector.js"
        ],
        "entry_route": "/plantillas",
        "user_interactions": [
          "Navigate to /plantillas",
          "Browse available templates",
          "Click template to preview",
          "Use template for documentation"
        ],
        "api_calls": [],
        "auth_required": true
      },
      {
        "name": "Landing Page",
        "description": "Public landing page with feature showcase and navigation to login",
        "files": [
          "app/page.js"
        ],
        "entry_route": "/",
        "user_interactions": [
          "View landing page with features",
          "Scroll through feature sections",
          "Click call-to-action button to go to login",
          "Navigate via top navigation bar"
        ],
        "api_calls": [],
        "auth_required": false
      }
    ],
    "known_limitations": [
      {
        "issue": "AI lesson generation can take 5-30 seconds due to Gemini API latency",
        "location": "lib/services/SmartLessonGenerator.js",
        "impact": "User must wait for streaming response"
      },
      {
        "issue": "SQLite not suitable for high concurrency production use",
        "location": "lib/db.js",
        "impact": "Performance degrades with many concurrent users"
      },
      {
        "issue": "Dashboard UI not fully optimized for mobile",
        "location": "components/ProjectTracking/EnhancedUnifiedDashboard.js",
        "impact": "Some features may not render well on small screens"
      }
    ]
  }
}
