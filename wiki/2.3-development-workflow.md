# 2.3 Development Workflow

## ğŸ“‹ Flujo de Trabajo de Desarrollo

Este documento describe el flujo de trabajo estÃ¡ndar para contribuir al proyecto AI Code Mentor.

### ğŸ¤– DocumentaciÃ³n Interactiva

Para explorar este flujo de trabajo de manera interactiva con asistencia de IA, visita:
**ğŸ”— [Development Workflow en DeepWiki](https://deepwiki.com/JantonioFC/ai-code-mentor-beta-test/2.3-development-workflow)**

---

## ğŸ”„ Ciclo de Desarrollo

### 1. ConfiguraciÃ³n Inicial

#### Prerrequisitos
- Node.js 18 o superior
- npm 9+
- Git
- API Key de Gemini

#### Setup del Proyecto
```bash
# Clonar el repositorio
git clone https://github.com/JantonioFC/ai-code-mentor-beta-test.git
cd ai-code-mentor-beta-test

# Instalar dependencias
npm install

# Configurar variables de entorno
cp .env.example .env.local
# Editar .env.local con tu GEMINI_API_KEY

# Iniciar servidor de desarrollo
npm run dev
```

Ver detalles completos en la [GuÃ­a de InstalaciÃ³n](../docs/INSTALLATION_GUIDE.md).

---

### 2. CreaciÃ³n de Ramas

Seguimos el modelo de Git Flow simplificado:

```bash
# Crear rama desde main
git checkout main
git pull origin main
git checkout -b feature/nombre-descriptivo

# Para bugfixes
git checkout -b fix/nombre-del-bug

# Para hotfixes
git checkout -b hotfix/descripcion
```

#### ConvenciÃ³n de Nombres de Ramas
- `feature/` - Nuevas funcionalidades
- `fix/` - CorrecciÃ³n de bugs
- `hotfix/` - Correcciones urgentes en producciÃ³n
- `docs/` - Cambios en documentaciÃ³n
- `refactor/` - RefactorizaciÃ³n de cÃ³digo
- `test/` - AÃ±adir o modificar tests

---

### 3. Desarrollo

#### Estructura del Proyecto
```
ai-code-mentor/
â”œâ”€â”€ components/         # Componentes React (73 archivos)
â”œâ”€â”€ pages/              # Rutas Next.js + API
â”‚   â”œâ”€â”€ api/v1/         # API versionada
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib/                # LÃ³gica de negocio (95 archivos)
â”‚   â”œâ”€â”€ ai/             # Router IA
â”‚   â”œâ”€â”€ db/             # Base de datos
â”‚   â”œâ”€â”€ evaluation/     # EvaluaciÃ³n
â”‚   â”œâ”€â”€ memory/         # GestiÃ³n de memoria
â”‚   â”œâ”€â”€ rag/            # RAG pipeline
â”‚   â””â”€â”€ services/       # Servicios
â”œâ”€â”€ __tests__/          # Tests unitarios
â”œâ”€â”€ e2e/                # Tests E2E
â””â”€â”€ docs/               # DocumentaciÃ³n
```

#### Buenas PrÃ¡cticas

**CÃ³digo:**
- Seguir las convenciones de cÃ³digo existentes
- Ejecutar `npm run lint` antes de commit
- Escribir cÃ³digo TypeScript cuando sea posible
- Mantener componentes pequeÃ±os y reutilizables

**Commits:**
```bash
# Formato de commits
<tipo>: <descripciÃ³n breve>

[cuerpo opcional con mÃ¡s detalles]

[footer opcional con referencias]
```

Tipos de commit:
- `feat:` - Nueva funcionalidad
- `fix:` - CorrecciÃ³n de bug
- `docs:` - Cambios en documentaciÃ³n
- `style:` - Formato, punto y coma, etc.
- `refactor:` - RefactorizaciÃ³n de cÃ³digo
- `test:` - AÃ±adir tests
- `chore:` - Mantenimiento

**Ejemplos:**
```bash
git commit -m "feat: aÃ±adir generaciÃ³n de diagramas Mermaid"
git commit -m "fix: corregir error en autenticaciÃ³n JWT"
git commit -m "docs: actualizar guÃ­a de instalaciÃ³n"
```

---

### 4. Testing

#### Tests Unitarios
```bash
# Ejecutar todos los tests
npm test

# Watch mode (desarrollo)
npm run test:watch

# Con cobertura
npm run test:coverage
```

#### Tests End-to-End
```bash
# Ejecutar tests E2E
npm run test:e2e

# Con interfaz visual
npm run test:e2e:ui

# Modo debug
npm run test:e2e:debug
```

#### Requisitos de Testing
- âœ… Tests unitarios para nueva lÃ³gica de negocio
- âœ… Tests E2E para flujos de usuario crÃ­ticos
- âœ… Cobertura mÃ­nima del 70% para cÃ³digo nuevo
- âœ… Todos los tests deben pasar antes de merge

---

### 5. Code Review

Antes de crear un Pull Request:

```bash
# 1. Verificar cambios
git status
git diff

# 2. Ejecutar linter
npm run lint

# 3. Ejecutar tests
npm test

# 4. Build de producciÃ³n
npm run build
```

#### Checklist Pre-PR
- [ ] CÃ³digo cumple con estÃ¡ndares del proyecto
- [ ] Tests aÃ±adidos y pasando
- [ ] Linter sin errores
- [ ] Build exitoso
- [ ] DocumentaciÃ³n actualizada
- [ ] Variables de entorno documentadas (si aplica)
- [ ] Sin console.log() en cÃ³digo de producciÃ³n

---

### 6. Pull Request

#### Crear PR
```bash
# Push de la rama
git push origin feature/nombre-descriptivo
```

Luego en GitHub:
1. Ir a la pÃ¡gina del repositorio
2. Click en "New Pull Request"
3. Seleccionar tu rama
4. Completar template de PR

#### Template de PR
```markdown
## DescripciÃ³n
[DescripciÃ³n clara de los cambios]

## Tipo de Cambio
- [ ] Nueva funcionalidad
- [ ] CorrecciÃ³n de bug
- [ ] Breaking change
- [ ] DocumentaciÃ³n

## Testing
- [ ] Tests unitarios aÃ±adidos
- [ ] Tests E2E aÃ±adidos
- [ ] Todos los tests pasan

## Checklist
- [ ] CÃ³digo sigue las guÃ­as de estilo
- [ ] DocumentaciÃ³n actualizada
- [ ] Sin cambios breaking sin justificaciÃ³n
```

---

### 7. Proceso de Review

El PR serÃ¡ revisado por:
1. **Linters automatizados** (GitHub Actions)
2. **Tests automatizados** (CI/CD)
3. **Code reviewers** (equipo)

#### Criterios de AprobaciÃ³n
- âœ… CI/CD pasa
- âœ… Al menos 1 aprobaciÃ³n de reviewer
- âœ… Sin conflictos de merge
- âœ… DocumentaciÃ³n adecuada

---

### 8. Merge

Una vez aprobado:
```bash
# Actualizar rama con main
git checkout feature/nombre-descriptivo
git pull origin main
git push origin feature/nombre-descriptivo
```

El merge se realiza mediante:
- **Squash and merge** - Para features pequeÃ±as
- **Merge commit** - Para features grandes con historial importante

---

## ğŸ”§ Herramientas de Desarrollo

### Scripts Disponibles

| Comando | DescripciÃ³n |
|---------|-------------|
| `npm run dev` | Desarrollo (incluye migraciones) |
| `npm run build` | Build de producciÃ³n |
| `npm start` | Servidor de producciÃ³n |
| `npm test` | Tests unitarios |
| `npm run test:e2e` | Tests E2E |
| `npm run lint` | Ejecutar linter |
| `npm run create:demo-user` | Crear usuario demo |

### Debugging

#### VS Code
ConfiguraciÃ³n en `.vscode/launch.json`:
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Next.js: debug server-side",
      "type": "node-terminal",
      "request": "launch",
      "command": "npm run dev"
    }
  ]
}
```

#### Chrome DevTools
1. Abrir http://localhost:3000
2. Abrir DevTools (F12)
3. Usar tab "Sources" para breakpoints

Ver mÃ¡s en [GuÃ­a de Debugging](../docs/DEBUGGING_GUIDE.md).

---

## ğŸ“Š CI/CD

### GitHub Actions

El proyecto usa GitHub Actions para:
- âœ… Linting automÃ¡tico
- âœ… Tests unitarios
- âœ… Tests E2E
- âœ… Build de producciÃ³n
- âœ… Security scanning

Ver workflows en `.github/workflows/`.

### Deployment

El deployment se realiza automÃ¡ticamente:
- **Staging**: Al hacer merge a `develop`
- **Production**: Al hacer merge a `main`

Ver [Deployment](../README.md#-deployment) para mÃ¡s detalles.

---

## ğŸ› Troubleshooting

### Errores Comunes

**Error: "GEMINI_API_KEY not configured"**
```bash
# Verificar archivo .env.local
cat .env.local | grep GEMINI
```

**Error: "Database is locked"**
```bash
# Matar procesos en puerto 3000
kill $(lsof -t -i:3000)
npm run dev
```

**Error: "Module not found"**
```bash
# Reinstalar dependencias
rm -rf node_modules package-lock.json
npm install
```

Ver mÃ¡s en [Troubleshooting](../README.md#-troubleshooting).

---

## ğŸ“š Recursos Adicionales

### DocumentaciÃ³n
- [README Principal](../README.md)
- [Contributing Guide](../CONTRIBUTING.md)
- [Architecture Decision Records](../docs/adr/README.md)
- [API Reference](../docs/API_REFERENCE.md)
- [Security Practices](../docs/SECURITY_PRACTICES.md)

### DeepWiki
- [Explorar con DeepWiki](https://deepwiki.com/JantonioFC/ai-code-mentor-beta-test)
- Chat interactivo para preguntas sobre el cÃ³digo
- Diagramas automÃ¡ticos de arquitectura
- NavegaciÃ³n inteligente del repositorio

### Comunidad
- [GitHub Issues](https://github.com/JantonioFC/ai-code-mentor-beta-test/issues)
- [GitHub Discussions](https://github.com/JantonioFC/ai-code-mentor-beta-test/discussions)

---

**Ãšltima actualizaciÃ³n:** Febrero 2026  
**VersiÃ³n:** 1.0
